{"version":3,"sources":["faiash.js","ajax.js","dom.js","event.js"],"names":["Faiash","emptyArray","F","selector","context","ise","init","prototype","version","constructor","push","sort","splice","this","document","querySelector","call","querySelectorAll","i","length","each","callback","every","el","idx","ready","readyState","addEventListener","toArr","array","Array","slice","apply","extend","copy","args","arguments","tmp","name","$","module","exports","moudle","window","undefined","ajax","req","url","method","data","upload","progress","dc","error","match","shift","FormData","o","object","hasOwnProperty","encodeURIComponent","join","XMLHttpRequest","open","onprogress","e","loaded","total","setRequestHeader","onreadystatechange","status","getResponseHeader","JSON","parse","responseText","responseXML","send","get","unshift","post","addClass","v","body","classList","add","className","removeClass","remove","replace","RegExp","split","hasClass","check","contains","cls","test","toggleClass","toggle","indexOf","attr","setAttribute","getAttribute","forEach","obj","event","css","substr","style","cssText","html","innerHTML","val","on","off","removeEventListener"],"mappings":"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","file":"faiash.min.js","sourcesContent":["/**\n * F Core\n *\n * @author Rakume Hayashi<i@fake.moe>\n */\n\nvar Faiash = (function() {\n    var emptyArray = [],\n\n    // Define the F\n    F = function(selector, context) {\n        return new F.ise.init(selector, context);\n    }\n\n    F.ise = F.prototype = {\n        // Version of F\n        version: 0.1,\n        constructor: F,\n\n        // Behaves like array\n        push: emptyArray.push,\n    \t  sort: emptyArray.sort,\n    \t  splice: emptyArray.splice,\n\n        init: function(selector, context) {\n            // Return self when selector is \"\", void, undefined, false\n            if (!selector) {\n                return this;\n            }\n\n            // When context is string\n            if (typeof context === 'string') {\n                context = document.querySelector(context);\n            }\n\n            // When selector is an objcet\n            if (typeof selector === 'object') {\n                return [].push.call(this, selector);\n            } else {\n                selector = (context || document).querySelectorAll(selector);\n            }\n\n            for (i = 0; i < +selector.length; i++) {\n                this[i] = selector[i];\n            }\n\n            this.length = i;\n            return this;\n        },\n\n        each: function(callback) {\n            emptyArray.every.call(this, function(el, idx) {\n                return callback.call(el, el, idx) !== false;\n            });\n\n            return this;\n        },\n\n        ready: function(callback) {\n            if (this[0].readyState != 'loading') {\n                callback();\n            } else {\n                this[0].addEventListener('DOMContentLoaded', callback);\n            }\n\n            return this;\n        }\n    }\n\n    F.ise.init.prototype = F.ise;\n\n    F.toArr = function(array) {\n        return Array.prototype.slice.apply(array);\n    }\n\n    F.ready = function(callback) {\n        return F(document).ready(callback);\n    }\n\n    F.extend = F.ise.extend = function() {\n        var args = F.toArr(arguments),\n            tmp = {}, copy;\n\n        // No args\n        if (args.length < 1) {\n            return;\n        }\n\n        for (var i = 0; i < args.length; i++) {\n            for (var name in args[i]) {\n                copy = args[i][name];\n\n                // Prevent never-ending loop and undefined values\n                if (this === copy || typeof(copy) === 'undefined') {\n                    continue;\n                }\n\n                if (args.length === 1) {\n                    this[name] = copy;\n                    continue;\n                }\n\n                if (typeof(copy) === 'object') {\n                    tmp[name] = $.each(tmp[name], copy, true);\n                } else {\n                    if (typeof(tmp[name]) !== 'undefined' && !args[2]) {\n                      continue;\n                    }\n\n                    tmp[name] = copy;\n                }\n            }\n        }\n\n        if (args.length > 1) {\n          return tmp;\n        }\n\n        return this;\n    }\n\n    return F;\n})();\n\nif (typeof module === \"object\" && typeof module.exports === \"object\") {\n    moudle.exports = F;\n} else {\n    window.Faiash = Faiash;\n    window.$ === undefined && (window.$ = Faiash);\n}\n","/**\n * Ajax\n *\n * @author Rakume Hayashi<i@fake.moe>\n */\n\n;(function($) {\n  $.extend({\n      ajax: function() {\n          // Init the vars\n          var req, url, method, data, upload,\n              progress, dc, callback, error,\n              args = $.toArr(arguments);\n\n          // Get the method if it is in the arguments\n          if (args[0].match(/^get|post|put|delete$/i)) {\n              method = args.shift();\n          }\n\n          // Set the url\n          url = args.shift();\n\n          if (!url) {\n              return false;\n          }\n\n          // Get the data\n          if (typeof[0] === 'string') {\n              data = args.shift();\n          } else if (typeof[0] === 'object' && args[0].constructor === FormData) {\n              upload = true;\n              data = args.shift();\n          } else if (typeof args[0] === 'object') { // When array\n              dc = args.shift();\n\n              data = [];\n\n              for (var o in dc) {\n                if (object.hasOwnProperty(o)) {\n                    data.push(i + '=' + encodeURIComponent(o));\n                }\n              }\n\n              data = data.join('&');\n          } else { // When nothing\n              data = null;\n          }\n\n          // Set the method\n          if (!method) {\n              method = data ? 'POST' : 'GET';\n          }\n\n          // Get the callback\n          if (typeof args[0] === 'function') {\n              callback = args.shift();\n          }\n\n          // Get the error\n          if (typeof args[0] === 'function') {\n              error = args.shift();\n          }\n\n          // Get progress\n          if (typeof args[0] === 'function' && upload === true) {\n              progress = args.shift();\n          }\n\n          // Open a XHR\n          req = new XMLHttpRequest();\n          req.open(method, url, true);\n\n          if (progress) {\n              req.upload.onprogress = function(e) {\n                  progress(e.loaded / e.total);\n              }\n          }\n\n          // When is POST\n          (!data || upload) || req.setRequestHeader('Content-Type', 'application/x-www-form-urlencoded');\n\n          if (callback || error) {\n              req.onreadystatechange = function() {\n                  if(this.readyState === 4) {\n                      if(this.status >= 200 && this.status < 400) {\n                          if ((this.getResponseHeader('Content-Type') || '').match(/json/)) {\n                              if (typeof callback === 'function') {\n                                  callback(JSON.parse(req.responseText || null));\n                              }\n                          } else if ((this.getResponseHeader('Content-Type') || '').match(/xml/)) {\n                              if (typeof callback === 'function') {\n                                  callback(req.responseXML);\n                              }\n                          } else {\n                              if (typeof callback === 'function') {\n                                  callback(req.responseText); // Callback to the function\n                              }\n                          }\n                      } else if (typeof error === 'function') {\n                          error(this.status); // Error\n                      }\n                  }\n              }\n          }\n\n          req.send(data || '');\n          return req; // Return the detail\n      },\n\n      get: function() {\n        var args = $.toArr(arguments);\n        args.unshift('GET');\n\n        return this.ajax.apply(this, args);\n      },\n\n      post: function() {\n          var args = $.toArr(arguments);\n          args.unshift('POST');\n\n          return this.ajax.apply(this, args);\n      }\n  });\n})(Faiash);\n","/**\r\n * Dom\r\n *\r\n * @author Rakume Hayashi<i@fake.moe>\r\n */\r\n\r\n;(function($) {\r\n    $.ise.extend({\r\n        addClass: function(v) {\r\n            // Return false when v is '', void, undefined, false or when v is not a string\r\n            if (!v || typeof v !== 'string') {\r\n                return false;\r\n            }\r\n\r\n            if (document.body.classList) {\r\n                this.each(function(el) {\r\n                    el.classList.add(v);\r\n                });\r\n            } else {\r\n                this.each(function(el) {\r\n                    el.className += ' ' + v;\r\n                });\r\n            }\r\n\r\n            return this;\r\n        },\r\n\r\n        removeClass: function(v) {\r\n            // Return false when v is '', void, undefined, false or when v is not a string\r\n            if (!v || typeof v !== 'string') {\r\n                return false;\r\n            }\r\n\r\n            if (document.body.classList) {\r\n                this.each(function(el) {\r\n                    el.classList.remove(v);\r\n                });\r\n            } else {\r\n                this.each(function(el) {\r\n                    el.className = el.className.replace(new RegExp('(^|\\\\b)' + v.split(' ').join('|') + '(\\\\b|$)', 'gi'), ' ');\r\n                });\r\n            }\r\n\r\n            return this;\r\n        },\r\n\r\n        hasClass: function(v) {\r\n            var check;\r\n\r\n            // Return false when v is '', void, undefined, false or when v is not a string\r\n            if (!v || typeof v !== 'string') {\r\n                return false;\r\n            }\r\n\r\n            if (document.body.classList) {\r\n                this.each(function(el) {\r\n                    check = el.classList.contains(v);\r\n                });\r\n            } else {\r\n                this.each(function(el) {\r\n                    check = new RegExp('(^|)' + cls + '(|$)', 'gi').test(el.className);\r\n                });\r\n            }\r\n\r\n            if (check) {\r\n                return true;\r\n            } else {\r\n                return false;\r\n            }\r\n        },\r\n\r\n        toggleClass: function(v) {\r\n            // Return false when v is '', void, undefined, false or when v is not a string\r\n            if (!v || typeof v !== 'string') {\r\n                return false;\r\n            }\r\n\r\n            if (document.body.classList) {\r\n                this.each(function(el) {\r\n                    el.classList.toggle(v);\r\n                });\r\n            } else {\r\n                this.each(function(el) {\r\n                    if (el.className.indexOf(v) >= 0) {\r\n                        el.className = el.className.replace(new RegExp('(^|\\\\b)' + v.split(' ').join('|') + '(\\\\b|$)', 'gi'), ' ');\r\n                    } else {\r\n                        el.className += ' ' + v;\r\n                    }\r\n                });\r\n            }\r\n\r\n            return this;\r\n        },\r\n\r\n        attr: function() {\r\n            var args = $.toArr(arguments);\r\n\r\n            if (args[1] && typeof args[0] === 'string') {\r\n                this.each(function(el) {\r\n                    el.setAttribute(args[0], args[1]);\r\n                });\r\n            } else if (typeof args[0] === 'object'){\r\n                args.forEach(function(obj) {\r\n                    this.each(function(el) {\r\n                        for (var attr in obj) {\r\n                            if (object.hasOwnProperty(attr)) {\r\n                                el.setAttribute(attr, obj[event][1]);\r\n                            }\r\n                        }\r\n                    });\r\n                });\r\n            } else {\r\n                return this[0].getAttribute(args[0]);\r\n            }\r\n\r\n            return this;\r\n        },\r\n\r\n        css: function(v) {\r\n            if (!v) {\r\n                return this[0].style.cssText;\r\n            }\r\n\r\n            if (v.substr(-1) == ';') {\r\n                v = v.substr(0, v.length - 1);\r\n            }\r\n\r\n            this.each(function(el) {\r\n                el.style.cssText += (';' + v);\r\n            });\r\n\r\n            return this;\r\n        },\r\n\r\n        html: function(v) {\r\n            if (!v) {\r\n                return this[0].innerHTML;\r\n            }\r\n\r\n            this.each(function(el) {\r\n                el.innerHTML = v;\r\n            })\r\n\r\n            return this;\r\n        },\r\n\r\n        val: function() {\r\n          //\r\n        }\r\n    });\r\n})(Faiash);\r\n","/**\n * Event\n *\n * @author Rakume Hayashi<i@fake.moe>\n */\n\n;(function($) {\n    $.ise.extend({\n        on: function() {\n            var args = $.toArr(arguments);\n\n            if (typeof args[0] === 'string') {\n                if (!args[0] || !args[1]) {\n                    return this;\n                }\n\n                this.each(function(el) {\n                    el.addEventListener(args[0], args[1], (args[2] ? args[2] : false));\n                });\n            } else if (typeof args[0] === 'object') {\n                args.forEach(function(obj) {\n                    this.each(function(el) {\n                        for (var event in obj) {\n                            if (object.hasOwnProperty(event)) {\n                                el.addEventListener(event, obj[event][1]);\n                            }\n                        }\n                    });\n                });\n            }\n\n            return this;\n        },\n\n        off: function() {\n            var args = $.toArr(arguments);\n\n            if (typeof args[0] === 'string') {\n                this.each(function(el) {\n                    el.removeEventListener(args[0], args[1], args[2]);\n                });\n            }  else if (typeof args[0] === 'object' && args.length === 1) {\n                args.forEach(function(obj) {\n                    this.each(function(el) {\n                        for (var event in obj) {\n                            if (object.hasOwnProperty(event)) {\n                                el.removeEventListener(event, obj[event][1]);\n                            }\n                        }\n                    });\n                });\n            }\n\n            return this;\n        }\n    });\n})(Faiash);\n"],"sourceRoot":"/source/"}