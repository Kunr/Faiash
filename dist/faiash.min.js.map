{"version":3,"sources":["faiash.js","ajax.js","dom.js","event.js"],"names":["Faiash","emptyArray","document","window","$","selector","context","ise","init","push","sort","splice","forEach","reduce","indexOf","this","querySelector","call","elements","querySelectorAll","i","length","each","callback","every","el","idx","ready","readyState","addEventListener","prototype","toArr","array","Array","slice","apply","F","extend","name","target","copy","args","arguments","deep","shift","options","src","undefined","module","exports","moudle","ajax","req","url","method","data","upload","progress","dc","error","match","constructor","FormData","o","encodeURIComponent","join","XMLHttpRequest","open","onprogress","e","loaded","total","setRequestHeader","onreadystatechange","status","getResponseHeader","JSON","parse","responseText","responseXML","send","get","unshift","post","addClass","body","classList","add","className","removeClass","remove","replace","RegExp","split","hasClass","check","contains","test","toggleClass","toggle","v","attr","value","setAttribute","getAttribute","css","substr","style","cssText","html","innerHTML","val","attrName","toLowerCase","on","obj","event","off","removeEventListener"],"mappings":"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","file":"faiash.min.js","sourcesContent":["/**\n * Faiash Core\n *\n * @author Rakume Hayashi<i@fake.moe>\n */\n\nvar Faiash = (function() {\n    var emptyArray = [],\n        document   = window.document;\n\n    // Define the F\n    $ = function(selector, context) {\n        return new $.ise.init(selector, context);\n    }\n\n    $.ise = {\n        // Behaves like array\n        push: emptyArray.push,\n    \t  sort: emptyArray.sort,\n    \t  splice: emptyArray.splice,\n\n        forEach: emptyArray.forEach,\n        reduce: emptyArray.reduce,\n        indexOf: emptyArray.indexOf,\n\n        init: function(selector, context) {\n            // Return self when selector is \"\", void, undefined, false\n            if (!selector) {\n                return this;\n            }\n\n            // When context is string\n            if (typeof context === 'string') {\n                context = document.querySelector(context);\n            }\n\n            // When selector is an objcet\n            if (typeof selector === 'object') {\n                return emptyArray.push.call(this, selector);\n            } else {\n                elements = (context || document).querySelectorAll(selector);\n            }\n\n            for (i = 0; i < +elements.length; i++) {\n                this[i] = elements[i];\n            }\n\n            this.length = i;\n            this.selector = selector;\n\n            return this;\n        },\n\n        each: function(callback) {\n            emptyArray.every.call(this, function(el, idx){\n                return callback.call(el, idx, el) !== false;\n            });\n\n            return this;\n        },\n\n        ready: function(callback) {\n            if (document.readyState != 'loading') {\n                callback();\n            } else {\n                document.addEventListener('DOMContentLoaded', callback);\n            }\n\n            return this;\n        }\n    }\n\n    $.ise.init.prototype = $.ise;\n\n    $.toArr = function(array) {\n        return Array.prototype.slice.apply(array);\n    }\n\n    $.ready = function(callback) {\n        return F(document).ready(callback);\n    }\n\n    $.extend = $.ise.extend = function() {\n        var name, target, copy,\n            args = $.toArr(arguments),\n            i = 0, deep = false, tmp = {};\n\n        // No args\n        if (args.length < 1) {\n            return;\n        }\n\n        if (typeof args[0] === 'boolean') {\n            deep = args.shift();\n        }\n\n        if (1 === args.length) {\n            target = this;\n        } else {\n            target = args.shift();\n        }\n\n        if (typeof target !== 'object' && typeof target !== 'function') {\n            target = {};\n        }\n\n        for (; i < args.length; i++) {\n            options = args[i];\n\n            if (options === null) {\n              continue;\n            }\n\n            for (name in options) {\n                src = target[name];\n                copy = options[name];\n\n                // Prevent never-ending loop\n                if (target === copy) {\n                    continue;\n                }\n\n                if (deep && copy && typeof copy === 'object') {\n                    $.extend(deep, src, copy);\n                } else if (copy !== undefined) {\n                    target[name] = copy;\n                }\n            }\n        }\n\n        return target;\n    }\n\n    return $;\n})();\n\nif (typeof module === \"object\" && typeof module.exports === \"object\") {\n    moudle.exports = F;\n} else {\n    window.Faiash = Faiash;\n    window.$ === undefined && (window.$ = Faiash);\n}\n","/**\n * Ajax\n *\n * @author Rakume Hayashi<i@fake.moe>\n */\n\n;(function($) {\n    $.ajax = function() {\n        // Init the vars\n        var req, url, method, data, upload,\n            progress, dc, callback, error,\n            args = $.toArr(arguments);\n\n        // Get the method if it is in the arguments\n        if (args[0].match(/^get|post|put|delete$/i)) {\n            method = args.shift();\n        }\n\n        // Set the url\n        url = args.shift();\n\n        if (!url) {\n            return false;\n        }\n\n        // Get the data\n        if (typeof[0] === 'string') {\n            data = args.shift();\n        } else if (typeof[0] === 'object' && args[0].constructor === FormData) {\n            upload = true;\n            data = args.shift();\n        } else if (typeof args[0] === 'object') { // When array\n            dc = args.shift();\n\n            data = [];\n\n            for (var o in dc) {\n                data.push(i + '=' + encodeURIComponent(o));\n            }\n\n            data = data.join('&');\n        } else { // When nothing\n            data = null;\n        }\n\n        // Set the method\n        if (!method) {\n            method = data ? 'POST' : 'GET';\n        }\n\n        // Get the callback\n        if (typeof args[0] === 'function') {\n            callback = args.shift();\n        }\n\n        // Get the error\n        if (typeof args[0] === 'function') {\n            error = args.shift();\n        }\n\n        // Get progress\n        if (typeof args[0] === 'function' && upload === true) {\n            progress = args.shift();\n        }\n\n        // Open a XHR\n        req = new XMLHttpRequest();\n        req.open(method, url, true);\n\n        if (progress) {\n            req.upload.onprogress = function(e) {\n                progress(e.loaded / e.total);\n            }\n        }\n\n        // When is POST\n        (!data || upload) || req.setRequestHeader('Content-Type', 'application/x-www-form-urlencoded');\n\n        if (callback || error) {\n            req.onreadystatechange = function() {\n                if (this.readyState === 4) {\n                    if (this.status >= 200 && this.status < 400) {\n                        if ((this.getResponseHeader('Content-Type') || '').match(/json/)) {\n                            if (typeof callback === 'function') {\n                                callback(JSON.parse(req.responseText || null));\n                            }\n                        } else if ((this.getResponseHeader('Content-Type') || '').match(/xml/)) {\n                            if (typeof callback === 'function') {\n                                callback(req.responseXML);\n                            }\n                        } else {\n                            if (typeof callback === 'function') {\n                                callback(req.responseText); // Callback to the function\n                            }\n                        }\n                    } else if (typeof error === 'function') {\n                        error(this.status); // Error\n                    }\n                }\n            }\n        }\n\n      req.send(data || '');\n      return req; // Return the detail\n    }\n\n    $.get = function() {\n        var args = $.toArr(arguments);\n        args.unshift('GET');\n\n        return this.ajax.apply(this, args);\n    }\n\n    $.post = function() {\n        var args = $.toArr(arguments);\n        args.unshift('POST');\n\n        return this.ajax.apply(this, args);\n    }\n})(Faiash);\n","/**\r\n * Dom\r\n *\r\n * @author Rakume Hayashi<i@fake.moe>\r\n */\r\n\r\n;(function($) {\r\n    var emptyArray = [];\r\n\r\n    $.ise.extend({\r\n        addClass: function(name) {\r\n            if (!name) {\r\n                return this;\r\n            }\r\n\r\n            return document.body.classList ?\r\n                this.each(function() {\r\n                    this.classList.add(name);\r\n                }) :\r\n                this.each(function() {\r\n                    this.className += ' ' + name;\r\n                });\r\n        },\r\n\r\n        removeClass: function(name) {\r\n            if (!name) {\r\n                return this;\r\n            }\r\n\r\n            return document.body.classList ?\r\n                this.each(function() {\r\n                    this.classList.remove(name);\r\n                }) :\r\n                this.each(function() {\r\n                    this.className = this.className.replace(new RegExp('(^|\\\\b)' + name.split(' ').join('|') + '(\\\\b|$)', 'gi'), ' ');\r\n                });\r\n        },\r\n\r\n        hasClass: function(name) {\r\n            if (!name) {\r\n                return false;\r\n            }\r\n\r\n            if (document.body.classList) {\r\n                this.each(function() {\r\n                    check = this.classList.contains(name);\r\n                });\r\n            } else {\r\n                this.each(function() {\r\n                    check = new RegExp('(^|)' + name + '(|$)', 'gi').test(this.className);\r\n                });\r\n            }\r\n\r\n            if (check) {\r\n                return true;\r\n            } else {\r\n                return false;\r\n            }\r\n        },\r\n\r\n        toggleClass: function(name) {\r\n            if (!name) {\r\n                return this;\r\n            }\r\n\r\n            return document.body.classList ?\r\n                this.each(function() {\r\n                    this.classList.toggle(name);\r\n                }) :\r\n                this.each(function() {\r\n                    if (this.className.indexOf(v) >= 0) {\r\n                        this.className = this.className.replace(new RegExp('(^|\\\\b)' + name.split(' ').join('|') + '(\\\\b|$)', 'gi'), ' ');\r\n                    } else {\r\n                        this.className += ' ' + name;\r\n                    }\r\n                });\r\n        },\r\n\r\n        attr: function(name, value) {\r\n            return value || value === '' ?\r\n                  this.each(function() {\r\n                      this.setAttribute(name, value);\r\n                  }) :\r\n                  this[0].getAttribute(name);\r\n        },\r\n\r\n        css: function(value) {\r\n            if (value.substr(-1) === ';') {\r\n                value = value.substr(0, value.length - 1);\r\n            }\r\n\r\n            return value ?\r\n                this.each(function() {\r\n                    this.style.cssText += (';' + value);\r\n                }) :\r\n                this[0].style.cssText;\r\n        },\r\n\r\n        html: function(value) {\r\n            return value || value === '' ?\r\n                this.each(function() {\r\n                    this.innerHTML = value;\r\n                }) :\r\n                this[0].innerHTML;\r\n        },\r\n\r\n        val: function(value) {\r\n            return value || value === '' ?\r\n                this.each(function() {\r\n                    this.value = value;\r\n                }) :\r\n                this[0].value;\r\n        },\r\n\r\n        data: function(name, value) {\r\n            var attrName = 'data-' + name.toLowerCase();\r\n\r\n            return 0 in arguments ?\r\n                  this.attr(attrName, value) :\r\n                  this.attr(attrName);\r\n        }\r\n    });\r\n})(Faiash);\r\n","/**\n * Event\n *\n * @author Rakume Hayashi<i@fake.moe>\n */\n\n;(function($) {\n    $.ise.on = function() {\n        var args = $.toArr(arguments);\n\n        if (typeof args[0] === 'string') {\n            if (!args[0] || !args[1]) {\n                return this;\n            }\n\n            this.each(function() {\n                this.addEventListener(args[0], args[1], (args[2] ? args[2] : false));\n            });\n        } else if (typeof args[0] === 'object') {\n            args.forEach(function(obj) {\n                this.each(function() {\n                    for (var event in obj) {\n                        this.addEventListener(event, obj[event][1]);\n                    }\n                });\n            });\n        }\n\n        return this;\n    }\n\n    $.ise.off = function() {\n        var args = $.toArr(arguments);\n\n        if (typeof args[0] === 'string') {\n            this.each(function(el) {\n                el.removeEventListener(args[0], args[1], args[2]);\n            });\n        }  else if (typeof args[0] === 'object' && args.length === 1) {\n            args.forEach(function(obj) {\n                this.each(function() {\n                    for (var event in obj) {\n                        this.removeEventListener(event, obj[event][1]);\n                    }\n                });\n            });\n        }\n\n        return this;\n    }\n})(Faiash);\n"],"sourceRoot":"/source/"}